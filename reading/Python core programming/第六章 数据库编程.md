# 第六章 数据库编程

## 底层存储

数据库通常使用文件系统作为基本的持久化存储，它可以是普通的操作系统文件、专用 的操作系统文件，甚至是原始的磁盘分区。

## 用户接口

大多数数据库系统提供了命令行工具，可以用其执行 SQL 语句或查询。此外还有一些 GUI 工具，使用命令行客户端或数据库客户端库，向用户提供更加便捷的界面。

## 数据库

一个关系数据库管理系统(RDBMS)通常可以管理多个数据库，比如销售、市场、用 户支持等，都可以在同一个服务端(如果 RDBMS 基于服务器，可以这样。不过一些简单 的系统通常不是基于服务器的)。在本章将要看到的例子中，MySQL 是一种基于服务的 RDBMS，因为它有一个服务器进程始终运行以等待命令行输入;而 SQLite 和 Gadfly 则不 会运行服务器。

## 组件

数据库存储可以抽象为一张表。每行数据都有一些字段对应于数据库的列。每一列的表 定义的集合以及每个表的数据类型放到一起定义了数据库的模式(schema)。
数据库可以创建(create)和删除(drop)，表也一样。往数据库里添加新行叫做插入(insert)， 修改表中已存在的行叫做更新(update)，而移除表中已存在的行叫做删除(delete)。这些动 作通常称为数据库命令或操作。使用可选的条件请求获取数据库中的行称为查询(query)。
当查询一个数据库时，可以一次性取回所有结果(行)，也可以逐条遍历每个结果行。一 些数据库使用游标的概念来提交 SQL 命令、查询以及获取结果，不管是一次性获取还是逐行 获取都可以使用该概念。

## SQL

数据库命令和查询操作是通过 SQL 语句提交给数据库的。虽然并非所有数据库都使用 SQL 语句，但是大多数关系数据库使用。下面是一些 SQL 命令示例。请注意，大部分数据 库都是不区分大小写的，尤其是针对数据库命令而言。一般来说，对数据库关键字使用大 写字母是最为广泛接受的风格。大多数命令行程序需要一条结尾的分号(;)来结束这条 SQL 语句。

```
创建数据库

CREATE DATABASE test;

GRANT ALL ON test.* to user(s);

```


