# 客户端log系统设计
---

## 功能

1. 可以将日志保存到本地

2. 客户端上传日志

	* 提供可交互的UI界面，供反馈用户使用

	* 静默上传到服务器

3. 日志支持分级输出

## 策略

1. 日志文件保存策略

	* 每天产生的日志保存在一个日志文件中，以aweme+日期.log命名

	* 日志默认最多保存30天的记录, 若本地存储日志到达30份，新生成的日志取代时间最早的日志

	* 支持服务端下发日志配置文件，根据具体需求设置日志保存策略

2. 日志上传策略

	* app内的设置界面提供上传日志入口，点击后上传日志

	* app启动时，检测到上一次app内发生了严重的逻辑错误，静默上传日志

	* 定期静默上传日志，上传周期服务端可控(支持全量和抽样)

	* 服务器下发字段，app启动时检测字段是否需要上传，如果需要，静默上传

